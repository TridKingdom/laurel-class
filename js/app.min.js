/*!
 * reveal.js 1.0.0 (2021-08-20, 02:30)
 * http://lab.hakim.se/reveal-js
 * MIT licensed
 *
 * Copyright (C) 2016 Hakim El Hattab, http://hakim.se
 */

!function(a){"use strict";var b=window.tkDataStore=window.tkDataStore||{};b.moduelSource={local:{low:"data/basic.csv",medium:"data/advanced.csv",high:"data/advanced.csv",asia:"data/asia.csv",europe:"data/europe.csv",africa:"data/africa.csv",southAmerica:"data/south-america.csv",northAmerica:"data/north-america.csv"},cloud:{low:"https://docs.google.com/spreadsheets/d/e/2PACX-1vT6Ys9Vw3rraPDmCeWave1xpovF1YBayV0FbRPBg-iuh2DBkjj84P7D31OthaHTG3uLWkXblccZ5qhA/pub?output=csv",medium:"https://docs.google.com/spreadsheets/d/e/2PACX-1vREStPvytLV1CMGf0aeMzozI3mpVnU5tSPV8phELKq4VdKD7jMdsWmsR8n203rq-FMIPxdgUA-VCUSv/pub?output=csv",high:"https://docs.google.com/spreadsheets/d/e/2PACX-1vQLXta4ldz5NnndUF5p92SxcnOSvM5SO9Nk3_TQq2ZHEDkCSnARB1UUppJ3tiucJ0gjfW2tMGzhxbct/pub?output=csv",asia:"xxx",europe:"xxx",africa:"xxx",southAmerica:"xxx",northAmerica:"xxx"}},b.questionModules={basic:{},advanced:{},asia:{},europe:{},africa:{},southAmerica:{},northAmerica:{}},b.decisionText={yes:"你真了不起",no:"再接再厲吧"},b.config={title:"",source:"cloud",player:"1",timer:60},b.soundEffectSource={applause:"http://www.soundjay.com/human/applause-01.mp3",success:"http://www.soundjay.com/misc/dream-harp-02.mp3",fail:"http://www.soundjay.com/misc/fail-trombone-02.mp3",screaming:"http://www.soundjay.com/human/man-screaming-01.mp3",laser:"http://www.soundjay.com/button/button-3.mp3",handsaw:"http://www.soundjay.com/mechanical/handsaw-1.mp3"},b.soundEffect={applause:new Audio(b.soundEffectSource.applause),success:new Audio(b.soundEffectSource.success),fail:new Audio(b.soundEffectSource.fail),screaming:new Audio(b.soundEffectSource.screaming),laser:new Audio(b.soundEffectSource.laser),handsaw:new Audio(b.soundEffectSource.handsaw)}}(window._),function(a,b,c){"use strict";a(function(){function d(){e(),f()}function e(){b.forEach(g.templateSources,function(b){a.get(b.path).then(function(a){return b.template=a,b}).then(function(a){a.partial&&c.registerPartial(a.id,a.template)}).fail(function(a){console.warn("Fail loading template <"+b.id+"> , please check whether the template file exist")})})}function f(){c.registerHelper("ifCond",function(a,b,c,d){switch(b){case"==":case"===":return a===c?d.fn(this):d.inverse(this);case"<":return a<c?d.fn(this):d.inverse(this);case"<=":return a<=c?d.fn(this):d.inverse(this);case">":return a>c?d.fn(this):d.inverse(this);case">=":return a>=c?d.fn(this):d.inverse(this);case"&&":return a&&c?d.fn(this):d.inverse(this);case"||":return a||c?d.fn(this):d.inverse(this);default:return d.inverse(this)}})}var g=window.tkDataStore=window.tkDataStore||{};g.templateSources={moduleBasic:{id:"moduleBasic",path:"templates/module-basic.hbs",template:"",partial:!1},moduleAdvanced:{id:"moduleAdvanced",path:"templates/module-basic.hbs",template:"",partial:!1},moduleLow:{id:"moduleLow",path:"templates/module-basic.hbs",template:"",partial:!1},moduleMedium:{id:"moduleMedium",path:"templates/module-basic.hbs",template:"",partial:!1},moduleHigh:{id:"moduleHigh",path:"templates/module-basic.hbs",template:"",partial:!1},slideReady:{id:"slideReady",path:"templates/slide-ready.hbs",template:"",partial:!0},slideScoreList:{id:"slideScoreList",path:"templates/slide-score-list.hbs",template:"",partial:!0},slideQuestionBasic:{id:"slideQuestionBasic",path:"templates/slide-question-basic.hbs",template:"",partial:!0},slideQuestionAdvanced:{id:"slideQuestionAdvanced",path:"templates/slide-question-advanced.hbs",template:"",partial:!0},slideDetail:{id:"slideDetail",path:"templates/slide-detail.hbs",template:"",partial:!0},slideDecision:{id:"slideDecision",path:"templates/slide-decision.hbs",template:"",partial:!0},qcac:{id:"qcac",path:"templates/qcac.hbs",template:"",partial:!0},qiac:{id:"qiac",path:"templates/qiac.hbs",template:"",partial:!0},qvac:{id:"qvac",path:"templates/qvac.hbs",template:"",partial:!0},qaac:{id:"qaac",path:"templates/qaac.hbs",template:"",partial:!0},qcai:{id:"qcai",path:"templates/qcai.hbs",template:"",partial:!0},qcan:{id:"qcan",path:"templates/qcan.hbs",template:"",partial:!0},qian:{id:"qian",path:"templates/qian.hbs",template:"",partial:!0},qvan:{id:"qvan",path:"templates/qvan.hbs",template:"",partial:!0},qaan:{id:"qaan",path:"templates/qaan.hbs",template:"",partial:!0}},d()})}(window.jQuery,window._,window.Handlebars),function(a,b,c,d,e,f){"use strict";a(function(){function g(){h(),i(),j(),k()}function h(){a(".js-load-question-module").on("click",function(b){l(a(this).data("module"))})}function i(){a("#tk-millionarie-class").on("click",".js-choose-answer",function(b){var c=a(this);c.data("option")===c.data("answer")?(c.addClass("is-selected is-true"),t("success","play")):(c.addClass("is-selected is-false"),t("fail","play"))})}function j(){a("#tk-millionarie-class").on("click",".js-decision-option",function(b){var c=a(this),d=c.closest(".js-question-set").find(".js-decision-title"),e=a(c.data("question-item")),g=c.data("decision"),h=c.data("option")||f.decisionText[g];d.text(h),c.siblings(".js-decision-option").hide(),"yes"===g&&t("applause","play"),"no"===g&&t("fail","play"),e.addClass("disabled")})}function k(){d.addEventListener("slidechanged",function(b){var c=b.currentSlide.id,d=a(".tk-millionarie-class .tk-slides-footer");"slide-ending"===c?d.addClass("is-last-page"):d.removeClass("is-last-page")})}function l(a){return t("laser","loop"),m(a).then(function(){s(!1),window.location.href=window.location.origin+window.location.pathname+"#/slide-ready",t("laser","stop")}).fail(function(){return console.warn("Fail loading question module <"+a+"> , please try another one"),m(a,"local").then(function(){s(!1),window.location.href=window.location.origin+window.location.pathname+"#slide-ready",t("laser","stop")})})}function m(a,b){return b=b||f.config.source,s(!0),"cloud"===b?p(a).then(q).fail(function(){console.warn("Fail loading question module <"+a+"> from Google Sheets, now try loading from local")}):n(a).then(o).then(q)}function n(b){return a.ajax({url:f.moduelSource.local[b],type:"GET"}).then(function(a){return{name:b,csv:a}}).fail(function(){console.warn("Fail loading question module <"+b+"> , please try another one")})}function o(a){return f.questionModules[a.name]=e.parse(a.csv,{header:!0,dynamicTyping:!0}).data,{name:a.name,questions:f.questionModules[a.name]}}function p(b){var c,d=a.Deferred();return c=setTimeout(function(){d.reject("loading timeout")},5e3),e.parse(f.moduelSource.cloud[b],{download:!0,header:!0,complete:function(a){f.questionModules[b]=a.data,clearTimeout(c),d.resolve({name:b,questions:f.questionModules[b]})}}),d.promise()}function q(c){var d="module"+b.capitalize(c.name),e="module-"+c.name,f=r(d,{questions:c.questions});a(".reveal .slides .js-question-set").remove(),a("#slide-index").after(f),a(".tk-millionarie-class").removeClass().addClass("tk-millionarie-class module-loaded "+e)}function r(a,b){return c.compile(f.templateSources[a].template)(b)}function s(b){var c=a(".js-hide-when-loading"),d=a(".js-show-when-loading");b?(c.addClass("is-hidden"),d.removeClass("is-hidden")):(c.removeClass("is-hidden"),d.addClass("is-hidden"))}function t(a,b){var c=f.soundEffect[a];switch(Object.keys(f.soundEffect).forEach(function(a){f.soundEffect[a].currentTime=0,f.soundEffect[a].pause()}),b){case"play":return void c.play();case"loop":return c.loop=!0,void c.play();case"stop":return c.loop=!1,c.currentTime=0,void c.pause();default:return void c.play()}}g()})}(window.jQuery,window._,window.Handlebars,window.Reveal,window.Papa,window.tkDataStore);
//# sourceMappingURL=app.min.js.map